<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    />
    <title>A09 Keyboard Event</title>
  </head>
  <body>
    <div class="card-body">
      <h2>9. KeyBoard Event</h2>

      <input type="text" name="name" class="form-control" />
      <input type="text" name="age" class="form-control" value="5" />
      <button>CLICK</button>
      <br />
      <div id="result"></div>
    </div>
  </body>

  <script type="text/javascript">
    ;(function () {
      const nameRef = document.querySelector('input[name="name"]')
      // keyup, keydown, keypress(누르고 있는 동안)
      nameRef.addEventListener('keyup', function (evt) {
        const code = evt.code
        const key = evt.key
        const keyCode = evt.keyCode
        console.log(`Code: ${code}, Key: ${key}, KeyCode: ${keyCode}`)
        console.log(`Shift: ${evt.shiftKey}, Alt: ${evt.altKey}, Ctrl: ${evt.ctrlKey}, Meta: ${evt.metaKey}`)

        if (evt.keyCode === 65 && evt.shiftKey) location.assign('http://google.com')
      })

      document.querySelector('input[name="age"]').addEventListener('keydown', function (evt) {
        if (evt.keyCode === 13) {
          let value = Number(evt.target.value)
          if (isNaN(value)) value = 0
          alert(`입력한 값은: ${value + 100}`)
          evt.target.value = ''
        }
      })

      // querySelector => 여러개가 검색되면 최초 검색된 1개만 추출
      // querySelectorAll => 여러개가 검색되면 모든 요소를 유사배열로 리턴한다
      document.querySelector('button').addEventListener('click', function (evt) {
        console.log(`Shift: ${evt.shiftKey}, Alt: ${evt.altKey}, Ctrl: ${evt.ctrlKey}, Meta: ${evt.metaKey}`)

        if (evt.shiftKey) location.assign('http://google.com')
      })
    })()
  </script>
</html>
